/**
 * Build configuration for the plugin
 */
plugins {
    // Apply the Java Gradle plugin development plugin to add support for developing Gradle plugins
    id 'java-gradle-plugin'
    id 'maven-publish'
    id 'com.gradle.plugin-publish' version '1.2.0'
    id 'jvm-test-suite'
}

repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    implementation 'org.ow2.asm:asm:9.5'
    implementation 'com.fasterxml.jackson.core:jackson-core:2.15.2'
    implementation 'com.fasterxml.jackson.core:jackson-databind:2.15.2'
    implementation 'com.fasterxml.jackson.core:jackson-annotations:2.15.2'
    // Use JUnit test framework for unit tests
    testImplementation 'org.junit.jupiter:junit-jupiter:5.10.0'
    testRuntimeOnly("org.junit.platform:junit-platform-launcher")

}

group 'sstaf'
version '1.0'

test {
    useJUnitPlatform()
}

gradlePlugin {
    // Define the plugin
    plugins {
        sstafPlugin {
            id = 'sstaf'
            displayName = 'SSTAF Module-builder Plugin'
            description = 'Builds SSTAF things'
            implementationClass = 'mil.sstaf.gradle.plugin.SSTAFGradlePlugin'
        }
    }
}

publishing {
    repositories {
        maven {
            name = 'localPluginRepository'
            url = System.getProperty('user.home') + "/.m2/local-plugin-repository"
        }
    }
}


